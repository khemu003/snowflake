"use strict";(self.webpackChunk_snowflake_nu_ui=self.webpackChunk_snowflake_nu_ui||[]).push([["49876"],{494625:function(e,t,r){r.d(t,{Q:()=>o});var n=r(184168);r(499924);var i=r(51723),s=r(233174),a=r(724537);let o=(0,i.withTelemetryComponent)("LinkButton",(e,t)=>{let{use:r,size:i,children:o,buttonProps:l,...c}=e;return c[":hover"]=c[":hover"]||{},c[":hover"].textDecorationLine=c[":hover"].textDecorationLine||"none",(0,n.jsx)(a.r,{ref:t,textDecorationLine:"none",...c,display:"inline-flex",children:(0,n.jsx)(s.zx,{flexGrow:1,...r?{use:r}:{},...i?{size:i}:{},role:"presentation",tabIndex:void 0,...l,children:o})})})},496412:function(e,t,r){r.d(t,{m:()=>i});var n=r(888890);function i(e){return e?n.XW:n.Jk}},168746:function(e,t,r){r.d(t,{D:()=>i});var n=r(888890);function i(e){return e?n.XW:n.rJ}},571058:function(e,t,r){r.d(t,{Fz:()=>V,ZP:()=>z,pY:()=>$,bf:()=>M});var n,i=r(184168),s=r(145753),a=r(236689),o=r(239243),l=r(233174),c=r(136373),u=r(494625),d=r(56756),h=r(702679),g=r(778040),p=r(628587),f=r(429207),m=r(368157),E=r(236697),S=r(54649),A=r(30673),_=r(499924),v=r(665007),U=r(37959),w=r(805018),R=r(453749),b=r(854162),I=r(539006),y=r(558786),T=r(385097),x=r(328858),L=r(165637),O=r(724537),P=r(642278),C=r(778098),k=r(924427);function N(){let{formatMessage:e}=(0,C.Z)(),{getDocsUrl:t}=(0,k.V)();return(0,i.jsxs)(o.g,{display:"flex",flexDirection:"row",alignItems:"stretch",width:"100%",textAlign:"center",fontWeight:600,marginBottom:8,children:[(0,i.jsx)(a.x,{flexGrow:1,textAlign:"left",color:s.Q2.primaryTextColor,children:(0,i.jsx)(v.Z,{id:"Where to find your account identifier"})}),(0,i.jsx)(O.r,{href:t("/user-guide/admin-account-identifier"),target:"_blank","aria-label":e({id:"Learn more about signing in"}),...(0,g.b)(4),...(0,P.J)([0,"-4px","-4px",0]),children:(0,i.jsx)(p.JO,{icon:"help-circle-bold",size:16,color:s.Il.Gray50})})]})}N.displayName="AccountIdentifierHelpSection";var F=((n=F||{}).utm_source="utm_source",n.utm_medium="utm_medium",n.utm_campaign="utm_campaign",n.utm_term="utm_term",n.utm_content="utm_content",n);let D={backgroundColor:s.Il.Gray10,borderRadius:"4px",paddingLeft:"8px",paddingRight:"8px",paddingTop:"4px",paddingBottom:"4px",borderWidth:1,borderStyle:"solid",borderColor:s.Il.Gray30},j=({children:e})=>(0,i.jsx)(a.x,{display:"block",fontSize:14,fontWeight:400,children:e});j.displayName="FormLabel";let B=e=>({value:[e.url,e.appServerUrl].join(","),key:[e.url,e.appServerUrl].join(","),data:e.appServerUrl,multiselectable:!1,label:(0,i.jsx)(o.g,{display:"block",children:(0,i.jsx)(a.x,{display:"block",color:s.Q2.primaryTextColor,fontWeight:"bold",children:e.accountAlias||e.name||e.account})})}),W=e=>{let{account:t,onClick:r}=e;return(0,i.jsx)(o.g,{paddingBottom:8,children:(0,i.jsx)(l.zx,{width:"100%",height:"auto",paddingTop:12,paddingBottom:12,onClick:()=>{r(t.url,t.appServerUrl,t.classicUIUrl)},display:"block",children:(0,i.jsx)(a.x,{display:"block",color:s.Q2.primaryTextColor,fontWeight:"bold",width:"100%",textAlign:"center",children:(0,i.jsx)(c.O,{children:t.accountAlias||t.name||t.account})})})})};W.displayName="AccountButton";class G extends _.PureComponent{storeDidChange(e,t){if("HOSTNAME_VALIDATED"===e&&this.startAuthorizeImmediately){this.startAuthorizeImmediately=!1;let{url:e}=this.state;t.sfAccountValidation.valid(e)&&this.startAuthorize()}}render(){var e;let{isSecondaryUser:t,stores:r,hideFormDialog:n,autofocus:c,intl:E,showSignUp:S}=this.props,{url:A,sfLoginError:_,sfLoginMessage:U,showSignIntoADifferentAccount:w}=this.state,{formatMessage:b}=E,y=b({id:"Account identifier"}),T=null;A.includes("@")?T=b({id:"Enter an account identifier instead of email"}):!1===r.sfAccountValidation.valid(A)&&(T=b({id:"Invalid account identifier"}));let x=[],O={fontWeight:600,fontSize:16,color:s.Q2.primaryTextColor},P=r.user.sortedUniqueLoggedInAccountsArray();x=P.map(e=>(0,i.jsx)(W,{account:e,onClick:this.startRememberedAuthorize},e.userKey));let C=!t&&P.length>4,k=[],F=(r.user,!(0,I.D)());C&&(k=P.slice(3).map(B),x=x.slice(0,3));let G=(0,i.jsx)(u.Q,{marginTop:12,use:"primary",href:`http://signup.snowflake.com/?${M()}`,external:!0,width:"100%",children:(0,i.jsx)(v.Z,{id:"Sign up"})}),z=!t&&P.length>0&&(0,i.jsxs)(o.g,{width:300,margin:"auto",children:[(0,i.jsx)(a.x,{display:"block",width:"100%",textAlign:"center",marginBottom:16,...O,children:(0,i.jsx)(v.Z,{id:"Select an account to sign into"})}),x,C&&(0,i.jsx)(o.g,{marginTop:8,children:(0,i.jsx)(d.Qf,{width:"100%",maxWidth:"100%",marginLeft:0,placeholder:"Other accounts",options:k,value:"",onChange:e=>{let[t,r,n]=e.target.value.split(",");this.startRememberedAuthorize(t,r,n)}})}),w?(0,i.jsx)(R.X,{marginTop:32}):(0,i.jsx)(o.g,{textAlign:"center",paddingTop:24,children:(0,i.jsx)(a.x,{color:s.Q2.secondaryTextColor,size:"small",textDecorationLine:"underline",onClick:()=>{this.setState({showSignIntoADifferentAccount:!0})},cursor:"pointer",role:"button",children:(0,i.jsx)(v.Z,{id:"Sign into a different account"})})})]}),V=(0,i.jsxs)(o.g,{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:24,paddingBottom:"40px",width:"100%",children:[(0,i.jsx)(o.g,{width:300,children:(0,i.jsxs)(h.s,{...(0,g.b)(0),children:[(0,i.jsx)(o.g,{textAlign:"center",marginBottom:8,children:(0,i.jsx)(p.JO,{icon:"snowflake",size:32,color:s.Il.SnowflakeBlue,marginTop:t?"56px":void 0})}),(0,i.jsx)(a.x,{fontSize:"20px",color:s.Q2.primaryTextColor,fontWeight:600,textAlign:"center",marginBottom:"40px",children:"Snowflake"})]})}),_?(0,i.jsxs)(o.g,{width:300,children:[(0,i.jsx)(o.g,{marginBottom:"20px",children:(0,i.jsx)(a.x,{display:"block",fontSize:14,lineHeight:"1.5",textAlign:"center",children:null!=U?U:(0,i.jsx)(v.Z,{id:"Something went wrong, unable to sign in"})})}),(0,i.jsx)(o.g,{children:(0,i.jsx)(l.zx,{autoFocus:!0,use:"primary",width:"100%",onClick:this.onTryAgainClicked,children:(0,i.jsx)(v.Z,{id:"Try again"})})})]}):(0,i.jsxs)(o.g,{children:[z,(0===P.length||w)&&(0,i.jsxs)(o.g,{children:[(0,i.jsxs)(o.g,{width:300,margin:"auto",children:[(0,i.jsx)(f.X,{marginBottom:12,children:(0,i.jsx)(f.X,{textAlign:"center",color:s.Q2.primaryTextColor,children:(0,i.jsx)(j,{children:(0,i.jsx)(v.Z,{id:"Enter your account identifier or account URL"})})})}),(0,i.jsx)(o.g,{marginBottom:16,height:44,children:(0,i.jsx)(m.I,{spellCheck:!1,autoFocus:c,placeholder:y,value:A,onChange:this.onChange,onPaste:this.onPaste,onKeyUp:this.onKeyUp,validation:()=>T,autoComplete:"username"})}),(0,i.jsx)(l.zx,{use:"primary",disabled:0===A.length,onClick:this.startAuthorize,width:"100%",children:(0,i.jsx)(v.Z,{id:"Sign in"})}),(0===P.length||S)&&F&&G,n&&(0,i.jsx)(l.zx,{onClick:n,marginTop:8,width:"100%",children:(0,i.jsx)(v.Z,{id:"Cancel"})})]}),(0,i.jsxs)(o.g,{width:380,marginTop:"40px",children:[(0,i.jsx)(N,{}),(0,i.jsxs)(a.x,{...D,children:["https://",(0,i.jsx)(a.x,{display:"inline",color:s.Il.Green80,children:"<account_identifier>"}),(0,L.I)()]})]})]}),S&&F&&P.length>0&&!w&&(0,i.jsxs)(o.g,{children:[(0,i.jsx)(R.X,{marginTop:32}),G]})]})]});return t?V:(0,i.jsx)(o.g,{width:"100%",children:V})}constructor(e){super(e),this.componentDidMount=()=>{let e=new URLSearchParams(window.location.search);e.get("error")===S.AppsErrorCode.LoginFailed&&(this.setState({sfLoginError:!0,sfLoginMessage:e.get("message")}),window.history.replaceState({},"",window.location.origin))},this.onURLValidate=(e,t=!1)=>{t&&(this.startAuthorizeImmediately=t);let{url:r}=this.state,{stores:{sfAccountValidation:n}}=this.props;n.validateURL(e||r,this.isSecondaryAccount)},this.onIdleInvalidate=()=>{this.forceUpdate()},this.onPaste=e=>{e.clipboardData&&this.onURLValidate(e.clipboardData.getData("text/plain"))},this.onKeyUp=e=>{let{url:t}=this.state;"Enter"===e.key?this.onURLValidate(t,!0):(this.onURLValidateDebounced(t),this.onURLInvalidateDebounced(t))},this.startAuthorize=()=>{let{stores:e}=this.props,{url:t}=this.state,r=e.sfAccountValidation.accountInfo(t);r?r.valid&&this.startAuthorizeURL(r.url,r.appServerUrl,r.classicUIUrl):this.onURLValidate(t,!0)},this.startAuthorizeURL=(e,t,r)=>{var n;let{isSecondaryUser:i,showPopup:s=!1,redirectHome:a}=this.props;(0,y._b)(e,t,r,{isSecondaryUser:i},this.authorizeCallback,s,!a,null===b.U||void 0===b.U||null==(n=b.U.urc)?void 0:n.getWindowId())},this.startRememberedAuthorize=(e,t,r)=>{var n;let{isSecondaryUser:i,showPopup:s=!1,redirectHome:a}=this.props;(0,y._b)(e,t,r,{isSecondaryUser:i},this.authorizeCallback,s,!a,null===b.U||void 0===b.U||null==(n=b.U.urc)?void 0:n.getWindowId())},this.onTryAgainClicked=()=>{this.setState({sfLoginError:!1})},this.onChange=e=>{var t;this.setState({url:null==(t=e.target)?void 0:t.value})};let{sfLoginError:t,isSecondaryUser:r}=this.props;this.state={url:"",sfLoginError:t||!1,showSignIntoADifferentAccount:r||!1},this.startAuthorizeImmediately=!1,this.onURLValidateDebounced=w.D(this.onURLValidate,A.gT.LOGIN_URL_VALIDATION_DEBOUNCE),this.onURLInvalidateDebounced=w.D(this.onIdleInvalidate,A.gT.LOGIN_URL_INVALIDATION_DEBOUNCE),this.isSecondaryAccount=!!e.isSecondaryAccount;let{isSecondaryUser:n,stores:{user:i},shouldSwitchUser:s,hideFormDialog:a,redirectHome:o,onCompleteSignIn:l}=e;this.authorizeCallback=(0,y.hf)({user:i,isSecondaryUser:!!n,shouldSwitchUser:!!s,hideFormDialog:a||E.EI,redirectHome:o||E.EI,onCompleteSignIn:l||E.EI},this.setState.bind(this))}}G.displayName="SignInForm",G=function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}([(0,T.$)([x.R])],G);let z=(0,U.ZP)(G);function M(){let e=(window.location.pathname||"").split("/"),t=H(e,"listing"),r=H(e,"listings"),n=H(e,"labs"),i=Object.fromEntries(new URLSearchParams(decodeURI(window.location.search)));return i.referrer||(i.referrer=e.includes("marketplace")?"marketplace":"snowsight"),t?i.listing=t:r&&(i.SDM=`provider:${r}`),n&&(i.lab=n),Object.entries(i).map(([e,t])=>`${e}=${t}`).join("&")}let V=()=>window.location.assign(`/?${M()}`);function H(e,t){let r=e.findIndex(e=>e===t);if(-1!==r&&e[r+1])return e[r+1]}function $(e){var t;let r=(t=e,Object.values(F).filter(e=>null!=t[e]).map(e=>`${e}=${t[e]}`).join("&")),n=function(e){var t;if(e.listing)return`/marketplace/listing/${e.listing}`;if(null==(t=e.SDM)?void 0:t.split(":")[1]){let t=e.SDM.split(":")[1];return`/marketplace/listings/${t}`}return"marketplace"===e.referrer?"/marketplace":"openflow"===e.referrer?"/openflow":void 0}(e);return n&&r?`${n}?${r}`:n}},984575:function(e,t,r){r.d(t,{F:()=>c});var n=r(184168),i=r(337855),s=r(239243),a=r(781516),o=r(665007),l=r(571058);let c=({stores:e})=>(0,n.jsx)(i.h,{children:(0,n.jsx)(s.g,{overflowX:"hidden",width:"100%",position:"relative",children:(0,n.jsxs)(s.g,{display:"flex",flexDirection:"row",minHeight:"100vh",height:"100%",alignItems:"center",justifyContent:"center",transitionProperty:"width",transitionDuration:"0.5s",transitionTimingFunction:"ease",role:"main",renderRoot:e=>(0,n.jsx)("main",{...e}),children:[(0,n.jsx)(i.m,{children:(0,n.jsx)(a.a,{children:(0,n.jsx)(o.Z,{id:"Sign in to your account"})})}),(0,n.jsx)(l.ZP,{autofocus:!0,showSignUp:!0,stores:e})]})})});c.displayName="SignInPage"},165637:function(e,t,r){r.d(t,{I:()=>s});var n=r(22396),i=r(539006);function s(){return(0,i.D)()?".snowflakecomputing.cn":(0,n.p)()?".snowflakecomputing.mil":".snowflakecomputing.com"}},60090:function(e,t,r){r.d(t,{P:()=>a});var n=r(609737),i=r(616821),s=r(15150);let a=()=>(0,i.WC)()&&!!localStorage.getItem(s.F.SNOWSIGHT_DEVELOPER_TOOLS)||n.flags.UI_ENABLE_UI_PLATFORM_FEATURE_38()},119470:function(e,t,r){r.d(t,{A:()=>i});var n=r(238257);function i(){let e=window.location.hostname;return e.startsWith("ai.snowflake.")||e.startsWith("preprod.ai.snowflake.")||e.startsWith("si-")&&(0,n.r)(e)}},22396:function(e,t,r){r.d(t,{p:()=>n});function n(){return window.location.hostname.endsWith(".mil")}},372797:function(e,t,r){r.d(t,{g:()=>f});var n=r(184168),i=r(307134),s=r(383543),a=r(236689),o=r(702679),l=r(145753),c=r(429207),u=r(233174),d=r(628587),h=r(51723),g=r(499924),p=r(851198);let f=({stores:e})=>{var t;g.useEffect(()=>{var t;return null==e||null==(t=e.analytics)?void 0:t.track("GLOBALERROR_SHOWN")},[e]);let r=(0,n.jsx)(a.x,{size:"large",textAlign:"center",color:s.lx.reusableTextSecondary,marginBottom:"2em",children:"Please refresh the page"}),f=null==(t=i.v.getInternalContext())?void 0:t.session_id;return(0,n.jsx)(h.Telemetry.Context,{name:"GlobalError",children:(0,n.jsxs)(o.s,{backgroundColor:l.Il.Gray10,children:[(0,n.jsx)(c.X,{height:"95vh",verticalAlign:"middle",align:"center",children:(0,n.jsxs)(o.s,{children:[(0,n.jsx)(a.x,{size:"xxlarge",color:s.lx.reusableTextPrimary,fontWeight:700,textAlign:"center",marginBottom:"0.5em",children:"Something went wrong"}),r,!1]})}),(0,n.jsxs)(c.X,{height:"5vh",verticalAlign:"middle",align:"right",marginBottom:12,marginRight:12,children:[(0,n.jsxs)(a.x,{children:["Session Id: ",null!=f?f:"Session ID not available"]}),(0,n.jsx)(u.zx,{use:"text",onClick:()=>{(0,p.z)(null!=f?f:"Session ID not available")},children:(0,n.jsx)(d.JO,{size:16,icon:"copy"})})]})]})})};f.displayName="GlobalError"},971893:function(e,t,r){r.d(t,{zw:()=>v,EV:()=>m,_U:()=>E});var n=r(184168),i=r(467131),s=r(499924),a=r(638604),o=r(37959),l=r(546781),c=r(418265),u=r(372797),d=r(345203),h=r(777493);let g={},p={};h.n.forEach(e=>{g[e]=p});var f=r(857110);async function m(e,{isRoot:t=!1,retries:r=0}={}){try{let t=(0,l.n)(({localizationPolicyEvaluation:t})=>t.checkForBuildIdOverride(e,"250519-3-9858dc31a4e"),()=>"250519-3-9858dc31a4e"),r=await fetch(`/static/localization/${e}.${t}.json`),n=await r.json();return g[e]=n,n}catch(n){if(t)return!0;if(r<20)return m(e,{isRoot:t,retries:r+1});i.cM.error(Error(`Could not fetch language bundle "${e}". Exceeded retry limit 20.`)),g[e]=n}}function E(e){return void 0!==g[e]&&g[e]!==p?g[e]:m(e)}let S=e=>{let t=s.useRef(0),{children:r}=e,o=(0,d.Kd)(),h=(0,l.n)(({localizationPolicyEvaluation:e})=>e.isPseudoLocale(o)?"en-US":o,()=>o),g=E(o);if(g instanceof Error||g instanceof Promise)throw g;let p=s.useCallback(e=>{if("MISSING_TRANSLATION"===e.code){if(Date.now()-t.current<=1e4)return;i.cM.error(Error("Missing translation: "+e.message)),t.current=Date.now();return}throw e},[]);return s.useEffect(()=>{document.documentElement.setAttribute("lang",h)},[h]),(0,n.jsx)(a.Z,{locale:h,defaultLocale:"en-US",messages:g,onError:p,children:(0,n.jsx)(c.S,{renderFallback:()=>(0,n.jsx)(u.g,{}),errorBoundaryName:"IntlProvider",errorMessage:"Error occurred while rendering the application",children:(0,n.jsx)(_,{children:r})})})};S.displayName="InnerIntlProvider";let A=!1,_=(0,o.ZP)(e=>{let{children:t,intl:r}=e;return A||((0,f.w)(r.formatMessage),A=!0),(0,n.jsx)(n.Fragment,{children:t})});_.displayName="SetFormatMessageProvider";let v=e=>(0,n.jsx)(c.S,{renderFallback:()=>(0,n.jsx)(u.g,{}),errorBoundaryName:"AsyncIntlProvider",errorMessage:"Error occurred while loading language pack",children:(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{}),children:(0,n.jsx)(S,{...e})})});v.displayName="AsyncIntlProvider"},857110:function(e,t,r){r.d(t,{W:()=>n,w:()=>s});let n=(...e)=>{if(i)return i(...e);console.error("msg() invoked before message provider was set")},i=null;function s(e){i=e}},54076:function(e,t,r){function n(e){return[...e].map(e=>JSON.parse(e))}function i(e){return function e(t){if("number"==typeof t)return t.toString();if("object"!=typeof t||null===t)return JSON.stringify(t);if(Array.isArray(t)){let r=[];for(let n=0;n<t.length;n++){let i=e(t[n])||JSON.stringify(null);r.push(i)}return`[${r.join(",")}]`}{let r=Object.keys(t).sort(),n=[];for(let i=0;i<r.length;i++){let s=r[i];n.push(`${JSON.stringify(s)}:${e(t[s])}`)}return`{${n.join(",")}}`}}(function(e){let t={...e.secId};return Object.keys(t).forEach(e=>!t[e]&&delete t[e]),{...e,secId:t}}(e))}r.d(t,{v:()=>n,z:()=>i})},453749:function(e,t,r){r.d(t,{X:()=>c});var n=r(184168),i=r(383543),s=r(429207),a=r(239243),o=r(236689),l=r(665007);let c=({marginTop:e=24,marginBottom:t=24})=>(0,n.jsxs)(s.X,{align:"center",verticalAlign:"middle",height:"0.1em",marginTop:e,marginBottom:t,children:[(0,n.jsx)(a.g,{backgroundColor:i.lx.reusableBorderDefault,lineHeight:"0.1em",textAlign:"center",width:"100%",height:"100%"}),(0,n.jsx)(o.x,{display:"block",height:"100%",lineHeight:"0.1em",marginLeft:"20px",marginRight:"20px",whiteSpace:"nowrap",children:(0,n.jsx)(l.Z,{id:"or"})}),(0,n.jsx)(a.g,{backgroundColor:i.lx.reusableBorderDefault,lineHeight:"0.1em",textAlign:"center",width:"100%",height:"100%"})]});c.displayName="OrDivider"},851198:function(e,t,r){r.d(t,{z:()=>s});var n=r(669002),i=r.n(n);function s(e,t){if(void 0===t)return i()(e,{format:"text/plain"});{var r;let n={...t,format:null!=(r=t.format)?r:"text/plain"};return i()(e,n)}}},166564:function(e,t,r){r.d(t,{Z:()=>c});var n=r(750129),i=r(383151),s=r(616821),a=r(60090),o=r(374740),l=r(598962);function c(e,t,r){let c=(0,o.mE)(e),d=!(0,o.bq)(e);if(r&&(!c.preventClientOverrides||(0,a.P)())){let t=(0,l.A7)()[e];if(null!=t)return t}if(d&&"boolean"==typeof t)return t;if("string"==typeof t){if(null==t?void 0:t.match(/enabled/iu))return!0;if(null==t?void 0:t.match(/disabled/iu))return!1;if(null==t?void 0:t.match(/^v:/iu)){var h=t;try{if(void 0===i.X.clientVersion||"local"===i.X.clientVersion)return!1;let e=h.substring(2),t=i.X.clientVersion,[r,n]=u(e),[s,a]=u(t);return s>r||s===r&&a>=n}catch(e){(0,s.WC)()&&n.log.error(`Unable to compare currentBuild ${i.X.clientVersion} against minVersion ${h}.`)}return!1}}return c.default}function u(e){var t;return[parseInt(e.split("-")[0],10),parseInt(null!=(t=e.split("-")[1])?t:"1",10)]}},598962:function(e,t,r){r.d(t,{A7:()=>i,B8:()=>a,Iy:()=>l,dy:()=>n,jy:()=>o,oF:()=>c,z4:()=>u});let n="snowflake-internal-client-overrides";function i(){let e=localStorage.getItem(n);return null==e?{}:JSON.parse(e)}function s(e){localStorage.setItem(n,JSON.stringify(e))}function a(e,t){let r=i();r[e]=t,s(r)}function o(){return Object.keys(i()).length>0}function l(){localStorage.removeItem(n)}function c(e,t){if(!t)return;let r=i();Object.keys(e).forEach(t=>{r[t]=e[t]}),s(r)}function u(){let e=new URLSearchParams(window.location.search).get("flags");if(null!=e){let t={};if(""===e)l();else{for(let r of e.split(","))0===r.indexOf("-")?t[r.substring(1)]=!1:t[r]=!0;c(t,!0)}let r=new URL(document.location.href),n=new URLSearchParams(r.search);n.delete("flags"),r.search=n.toString(),window.history.replaceState(null,"",r.toString())}}},558786:function(e,t,r){let n;r.d(t,{_b:()=>c,Mw:()=>u,hf:()=>d});var i=r(54649),s=r(767557),a=r(119470),o=r(24073);let l=!1;function c(e,t,r,i={},d,h=!1,g=!1,p,f="_blank"){var m;let E=(0,o.J)();e=(m=e).includes(".privatelink.")||!t.includes(".privatelink.")?m:t.includes(".int.")?m.replace(/\.int\.snowflakecomputing\./,".privatelink.int.snowflakecomputing.").replace(/\.testdns\.snowflakecomputing\./,".privatelink.testdns.snowflakecomputing.").replace(/:\d+$/,""):m.replace(/\.snowflakecomputing\./,".privatelink.snowflakecomputing."),i.csrf=pageParams.csrfToken,i.url=e,i.windowId=p,r&&(i.classicUIUrl=r);let S=new URL(E.location.href);!t.includes(".privatelink.")||h||(0,a.A)()||(S.host=new URL(t).host),g?i.browserUrl=S.href:i.browserUrl=S.origin,h&&(i.isPopupAuth=!0);let A={accountUrl:e,classicUIUrl:r,state:JSON.stringify(i)},_=t+"/start-oauth/snowflake?"+(0,s.nZ)(A);return(n=d,l||(E.addEventListener("message",function(e){var t;(null==(t=e.data)?void 0:t.source)==="snowflake"&&n(e.data)},!1),l=!0),h)?u(_,700,700,f):void E.location.assign(_)}function u(e,t,r,n="_blank"){let i=(0,o.J)();t||(t=900),r||(r=460);let s=(i.screenLeft||0)+Math.max(Math.floor(i.innerWidth/2-t/2),0),a=(i.screenTop||0)+Math.max(Math.floor(i.innerHeight/2-r/2),0);return i.open(e,n,`toolbar=no, scrollbars=yes, resizable=no, top=${a}, left=${s}, width=${t}, height=${r}`)}function d(e,t){return r=>{let n=(0,o.J)(),{user:a,isSecondaryUser:l,shouldSwitchUser:c,hideFormDialog:u,redirectHome:d,onCompleteSignIn:h}=e;if(r.org&&r.org.appPath)if(a.completeLogin(r.org,r.user,r.appServerUrl,r.region,r.maxSessionAge,!1!==c),l)"function"==typeof u&&u(),"function"==typeof d&&d(),"function"==typeof h&&h(a.toUserKey(r.user.username,r.org.url));else{let e=new URLSearchParams(n.location.search).get("cont")||void 0;n.location=(0,s.T0)(e)?e:r.org.appPath}else null==t||t({sfLoginError:!(r.error&&Object.values(i.AppsErrorCode).includes(r.error))||r.error,classicURL:r.url})}}},648038:function(e,t,r){r.d(t,{O:()=>n});var n,i=r(916616),s=r.n(i);let a=["streamlitSidebarCollapsed","streamlitSidebarWidth","streamlitEditorCollapsed","streamlitAppCollapsed","streamlitAppWidthPercentage","worksheetsSidebarTab","worksheetsSidebarCollapsed","worksheetsSidebarWidth","worksheetsTreeOpenPaths","worksheetsTreeSort"];var o=n||(n={});function l(e,t,r){if(e.user.currentUser){let n=JSON.stringify(r);sessionStorage.setItem(t,n);let i=e.user.currentUser.settings[t];if(!s()(r,i))return e.user.currentUser.settings[t]=r,!0}return!1}o.load=function(e,t){var r,n,i,s;let a=null!=(i=JSON.parse(null!=(n=sessionStorage.getItem(t))?n:"null"))?i:void 0,o=null!=(s=null==(r=e.user.currentUser)?void 0:r.settings[t])?s:void 0;return void 0===a&&void 0!==o&&sessionStorage.setItem(t,JSON.stringify(o)),null!=a?a:o},o.save=async function(e,t,r){l(e,t,r)&&await e.user.saveSettings()},o.saveAll=async function(e,t){let r=!1;for(let[n,i]of Object.entries(t))l(e,n,i)&&(r=!0);r&&await e.user.saveSettings()},o.clearSession=function(){a.forEach(e=>sessionStorage.removeItem(e))}},294387:function(e,t,r){r.d(t,{H:()=>o});var n=r(307134),i=r(674337),s=r(295535),a=r(743275);function o(e){if(void 0===e)return;let t=(0,s.g)(e,"implicit"),r=(0,s.g)(e,"explicit");(t||r)&&n.v.addAction(i.Sht,{hasAllOptionTypeImplicit:t,hasAllOptionTypeExplicit:r}),(0,a.e)(e)&&n.v.addAction(i.rGl)}},295535:function(e,t,r){r.d(t,{g:()=>n});let n=(e,t)=>void 0!==e.find(e=>{var r;return"allOptionType"in e.settings&&(null==(r=e.settings)?void 0:r.allOptionType)===t})},743275:function(e,t,r){r.d(t,{e:()=>n});let n=e=>void 0!==e.find(e=>{var t;return"hasOtherOption"in e.settings&&(null==(t=e.settings)?void 0:t.hasOtherOption)})},385097:function(e,t,r){r.d(t,{$:()=>a});var n=r(184168),i=r(499924),s=r(621335);function a(e,t=s.I){return function(r){return class extends i.PureComponent{constructor(...i){super(...i),this.getWrappedComponent=()=>this.connectorRef.getWrappedComponent(),this.render=()=>(0,n.jsx)(o,{...this.props,ref:e=>this.connectorRef=e,ConnectStoresComponent:r,storesToConnect:e||[],shouldUpdate:t})}}}}class o extends i.PureComponent{storesForProps(e){if(!e.stores||!e.storesToConnect)return;let t={};e.storesToConnect.forEach(e=>{t[e.STORE_ID]=!0});let r={};return Object.entries(e.stores).forEach(([e,n])=>{t[e]&&(r[e]=n)}),r}UNSAFE_componentWillReceiveProps(e){e.stores!==this.props.stores&&(this.stores=this.storesForProps(e))}componentDidMount(){Object.values(this.stores||{}).forEach(e=>{e.__subscribe(this.onStoreChange,this.onAfterStoreChange)}),this.componentRef&&this.componentRef.storesDidSubscribe&&this.componentRef.storesDidSubscribe(this.props.stores)}componentWillUnmount(){this.unmounted=!0,this.componentRef&&this.componentRef.storesWillUnsubscribe&&this.componentRef.storesWillUnsubscribe(this.props.stores),Object.values(this.stores||{}).forEach(e=>{e.__unsubscribe(this.onStoreChange,this.onAfterStoreChange)})}getWrappedComponent(){return this.componentRef}render(){let{ConnectStoresComponent:e,storesToConnect:t,shouldUpdate:r,...i}=this.props;return(0,n.jsx)(e,{ref:e=>this.componentRef=e,stores:this.stores,...i})}constructor(e){super(e),this.onStoreChange=(e,t)=>{!this.unmounted&&this.componentRef&&this.componentRef.storeDidChange&&this.componentRef.storeDidChange(e,this.props.stores,t)},this.onAfterStoreChange=(e,t)=>{!this.unmounted&&this.componentRef&&this.shouldUpdate(e,this.props,t)&&this.componentRef.forceUpdate()},this.stores=this.storesForProps(e),this.shouldUpdate=e.shouldUpdate}}},920295:function(e,t,r){r.d(t,{A:()=>i});var n=r(609737);let i=()=>n.flags.UI_ENABLE_BILLING_AND_TERMS_REFACTOR()},328858:function(e,t,r){r.d(t,{R:()=>l});var n=r(767557),i=r(117043),s=r(882042),a=r(835330);function o(e,t){return function(r,n){t(r,n,e)}}class l extends a.n{storesDidBind(e,t){}_normalize(e){return null==e?e:e.trim().toLowerCase()}valid(e){return null==(e=this._normalize(e))||""===e||void 0==this._validatedHostnames[e]?null:this._validatedHostnames[e]}accountRegionUrl(e,t){return this._validatedAccountRegionsResp[`${e}/${t}`]}async validateAccountRegion(e,t){let r=await i.nufetch("/validate-snowflake-account-region?"+n.nZ({account:e,region:t}),this.userRequestContext.requestContext(),void 0,void 0,!1);this._validatedAccountRegionsResp[`${e}/${t}`]=!!r.valid&&{gsLoginUrl:r.url,appServerUrl:r.appServerUrl,classicUIUrl:r.classicUIUrl},this.notify("ACCOUNT_REGION_VALIDATED")}async validateURL(e,t=!1){if(e=this._normalize(e),!0===this._validatedHostnames[e])return void this.notify("HOSTNAME_VALIDATED");if(null!==this._validatedHostnames[e]){try{this._validatedHostnames[e]=null;let r=await i.nufetch("/validate-snowflake-url?"+n.nZ({url:e,isSecondaryAccount:t}),this.userRequestContext.requestContext(),void 0,void 0,!1);this._accountInfo[e]=r,this._validatedHostnames[e]=r.valid}catch(t){delete this._validatedHostnames[e],this.error(t)}this.notify("HOSTNAME_VALIDATED")}}accountInfo(e){return this._accountInfo[this._normalize(e)]||null}constructor(e,t){super(t),this.userRequestContext=e,this.params=t;let r=t.snowflakeHostname;r?this._validatedHostnames={[r]:!0}:this._validatedHostnames={},this._validatedAccountRegionsResp={},this._accountInfo={}}}l.STORE_ID="sfAccountValidation",l=function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}([(0,s.ri)(),o(0,(0,s.f3)("UserRequestContext")),o(1,(0,s.f3)("PageState"))],l)},826945:function(e,t,r){r.d(t,{U:()=>z});var n=r(307134),i=r(609737),s=r(30673),a=r(413401),o=r(467131),l=r(767557),c=r(498448),u=r(183805),d=r(117043),h=r(496412),g=r(168746),p=r(662839),f=r(613752),m=r(311636),E=r(438635),S=r(83980),A=r(844699),_=r(383151),v=r(616821),U=r(262777),w=r(882042),R=r(165769),b=r(24073),I=r(54076),y=r(185728),T=r(166564),x=r(198364),L=r(835330),O=r(648038),P=r(294387),C=r(920295);function k(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function N(e,t){var r=k(e,t,"get");return r.get?r.get.call(e):r.value}function F(e,t,r){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object");t.set(e,r)}function D(e,t,r){var n=k(e,t,"set");if(n.set)n.set.call(e,r);else{if(!n.writable)throw TypeError("attempted to set read only private field");n.value=r}return r}function j(e,t){return function(r,n){t(r,n,e)}}let B={canSeeSessionsTab:!1,canSeeNotificationContacts:!1,canSeeNetworkPoliciesTab:!1,canSeeSnowflakeDataMarketplaceBilling:!1,canSeeAccountUsage:!1,canSeeOrgUsage:!1,canSeeBillingPage:!1,canSeeBillingAndPaymentsPage:!1,canSeeSecurityPage:!1,canCreateResourceMonitors:!1,canCreateAccounts:!1,canSeeDataGovernancePage:!1,canSeeSharingSettingPage:!1};var W=new WeakMap,G=new WeakMap;class z extends L.y{storesDidBind(e,t){}get context(){return this.urc}get isGuestUser(){return!this.currentUser}get currentUser(){return this.userForId(this.currentUserId)}get dataExchangeEnabled(){return i.flags.UI_FEATURE_PRIVATE_DATA_EXCHANGE_ENABLED()||i.flags.UI_ENABLE_PUBLIC_LISTINGS()||i.flags.UI_ENABLE_PRIVATE_LISTINGS()}get isSnowparkOptimizedEnabled(){return this.isSnowflakeFeatureEnabled(s.gT.ALLOW_HIGH_MEMORY_WAREHOUSE)}get isBudgetFeatureEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_CG_BUDGET")}get dxHealthCheckEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_DX_HEALTH_CHECK")}get dxAdminUnpublishListingsForPDEEnabled(){return this.isSnowflakeFeatureEnabled(s.gT.SNOWFLAKE_FEATURE_ENABLE_ADMIN_UNPUBLISH_LISTINGS_FOR_PRIVATE_DATA_EXCHANGE)}get navigationRules(){var e;let t=(null==(e=this.currentUser)?void 0:e.availableRoles)||[],r={...B};return this.hasSuperAccountAdminRole&&(r.canSeeDataGovernancePage=!0),this.hasSuperAccountAdminRole&&(r.canSeeAccountUsage=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_CONSUMPTION_PAGE"),r.canSeeBillingPage=this.creditCardBillingEnabled,r.canSeeNotificationContacts=!0),this.hasSuperAccountAdminRole||t.includes("SECURITYADMIN")?(r.canSeeSessionsTab=!0,r.canSeeNetworkPoliciesTab=!0,r.canSeeSecurityPage=!0,r.canCreateResourceMonitors=!0):t.includes("SYSADMIN"),this.hasSuperOrgAdminRole&&(r.canSeeNotificationContacts=!0,r.canSeeSnowflakeDataMarketplaceBilling=this.dataExchangeEnabled,r.canCreateAccounts=!0,r.canSeeOrgUsage=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_CONSUMPTION_PAGE")),(this.hasAdminRole||this.canModifyParameters)&&this.isFeatureEnabled(s.gT.LEGACY_SHARING_GRANDFATHERED)&&(r.canSeeSharingSettingPage=!0),r.canSeeBillingAndPaymentsPage=(0,C.A)(),r}get warehouseMaxSize(){return this.getSnowflakeParameterValue(s.gT.SNOWFLAKE_FEATURE_WAREHOUSE_MAX_SIZE,"string")||"4X-Large"}get regionlessRedirectEnabled(){return this.isSnowflakeFeatureEnabled(s.gT.SNOWFLAKE_FEATURE_UI_SNOWSIGHT_ENABLE_REGIONLESS_REDIRECT)}get privateListingPublishLimit(){return this.getSnowflakeParameterValue(s.gT.SNOWFLAKE_FEATURE_UI_PRIVATE_LISTING_PUBLISH_LIMIT,"number")}get schemaBrowserEnabled(){return this.isSnowflakeFeatureEnabled(s.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_AX_PUPR)}get replicationEnabled(){return this.isSnowflakeFeatureEnabled(s.gT.SNOWFLAKE_FEATURE_ENABLE_ACCOUNT_DATABASE_REPLICATION)}get creditCardBillingEnabled(){return this.isSnowflakeFeatureEnabled(s.gT.CREDIT_CARD_BILLING_ENABLED)}get lineOverlayChartsEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_APEX_FEATURE_1")}get keepTooltipsOnTopEnabled(){return this.isFeatureEnabled(s.gT.KEEP_TOOLTIP_ON_TOP_ENABLED)}get queryTextRoleEnabled(){return this.isFeatureEnabled(s.gT.QUERY_TEXT_ENTITY_MEMBER_ROLE)}get resultDownloadDisabled(){return this.isSnowflakeFeatureEnabled(s.gT.SNOWFLAKE_FEATURE_DISABLE_DOWNLOAD)}get selfPasswordChangeDisabled(){return this.isSnowflakeFeatureEnabled(s.gT.SNOWFLAKE_FEATURE_DISABLE_SELF_PASSWORD_CHANGE)}get supportEnabled(){return this.isSnowflakeFeatureEnabled(s.gT.SNOWFLAKE_FEATURE_UI_ENABLE_SUPPORT)}get supportForTrialAccountsEnabled(){return this.isSnowflakeFeatureEnabled(s.gT.SNOWFLAKE_FEATURE_UI_ENABLE_SUPPORT_FOR_TRIAL_ACCOUNTS)}get npsEnabled(){return this.isSnowflakeFeatureEnabled(s.gT.SNOWFLAKE_FEATURE_UI_ENABLE_NPS)}get learnEnabled(){return this.isSnowflakeFeatureEnabled(s.gT.SNOWFLAKE_FEATURE_UI_ENABLE_LEARN)}get inProductSearchEnabled(){return this.isSnowflakeFeatureEnabled(s.gT.SNOWFLAKE_FEATURE_UI_ENABLE_IN_PRODUCT_SEARCH)}get anacondaEnablementEnabled(){return this.isSnowflakeFeatureEnabled(s.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_ANACONDA_ENABLEMENT)}get cgTaggingEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_CG_TAGGING")}get getStartedPageV2Enabled(){return this.isSnowflakeFeatureEnabled(s.gT.SNOWFLAKE_FEATURE_UI_ENABLE_TRIAL_HOME_PAGE_V2)}get isLandingPageOverrideSetToSnowflake(){return this.getSnowflakeParameterValue(s.gT.SNOWFLAKE_FEATURE_UI_LANDING_PAGE_OVERRIDE,"string")===s.gT.UI_LANDING_PAGE_SNOWFLAKE_APP}get landingPageParam(){return this.getSnowflakeParameterValue(s.gT.SNOWFLAKE_FEATURE_UI_LANDING_PAGE,"string")}getSnowflakeParameterValue(e,t){let r=this.getSnowflakeParameterRawValue(e);return void 0===r?"string"===t?"":0:(typeof r!==t&&o.cM.error(Error(`APPS-9412: Unexpected type (${typeof r}) for parameter ${e}`)),r)}isFeatureEnabled(e){return this.currentUser&&this.currentUser.settings&&this.currentUser.settings.features&&!!this.currentUser.settings.features[e]||this._stores&&this._stores.organization.isFeatureEnabled(e)}isCanary(){return this.currentBeach()===U._p}isHotfix(){return this.currentBeach()===U.hJ}areLocalOverridesAllowed(){return(0,v.mb)()||(0,v.WC)()||this.isCanary()||this.isHotfix()}isSnowflakeFeatureEnabled(e){let t=this.getSnowflakeParameterRawValue(e);return!0===t||!1===t||void 0===t||o.cM.error(Error(`APPS-9412: Unexpected type (${typeof t}) for parameter ${e}`)),!!t}isUiSpecifiedSnowflakeFeatureEnabled(e){return(0,T.Z)(e,this.getSnowflakeParameterRawValue(e),this.areLocalOverridesAllowed())}getSnowflakeParameterRawValue(e){var t,r,i;let s=null==(i=this.currentUser)||null==(r=i.settings)||null==(t=r.snowflakeFeatures)?void 0:t[e];if(this.parameters){let t=this.parameters[e];if(void 0!==t)return t;void 0===s||N(this,G).has(e)||(N(this,G).add(e),n.v.addAction("parameter-existence-mismatch",{featureName:e}))}return s}isSnowflakeFeatureDefined(e){return this.currentUser&&this.currentUser.settings&&this.currentUser.settings.snowflakeFeatures&&void 0!=this.currentUser.settings.snowflakeFeatures[e]}userForId(e){return this.api.models.users.get(e)}get hasAdminRole(){var e;return null==(e=this.currentUser)?void 0:e.hasAdminRole}get canModifyParameters(){var e;return null==(e=this.currentUser)?void 0:e.canModifyParameters}async saveSettings(){this.currentUser&&(this.notify("USER_SAVE_SETTINGS_STARTED"),await this.api.post({path:"/settings",data:this.currentUser.settings}),this.notify("USER_SAVE_SETTINGS_COMPLETED"))}async updateSettings(e){let t=new FormData;Object.keys(e).forEach(r=>{"avatar"===r?""===e[r].get("avatar")?t.append("clearAvatar",String(!0)):t.append(r,e[r].get("avatar")):"object"==typeof e[r]?t.append(r,JSON.stringify(e[r])):t.append(r,e[r])}),await this.api.post({path:"/settings",data:t}),this.notify("USER_UPDATE_SETTINGS_COMPLETED")}async sendValidationEmail(){await this.api.post({path:"/sendValidationEmail"}),this.notify("USER_EMAIL_VALIDATION_SENT")}async previewProfileImg(e){let t=new FormData;return t.append("avatar",e),(await d.nufetchForm("/avatarPreview",this.api.requestContext(),{method:"POST",body:t})).avatar}async signoutAccount(e){let t,r=!1;try{let n=await this.api.post({path:"/signout-account",data:{},localUpdates:[],requestContext:this.api.requestContext(e.userKey)});n.redirectURL&&(t=n.redirectURL),r=!0}catch(e){o.cM.error(e)}return{success:r,userKey:e.userKey,redirectURL:t}}async signout(){this.signoutInProgress=!0,this.notify("USER_SIGNOUT_STARTED");try{let e=await Promise.all(this.urc.accountsToLogout().map(e=>this.signoutAccount(e)));for(let t of(this.urc.completeLogout(),O.O.clearSession(),e))if(t.redirectURL){window.location.href=t.redirectURL;return}let t=e.filter(e=>!e.success).map(e=>e.userKey);if(t.length)throw Error(`signout failed for ${t.length} accounts (${JSON.stringify(t)})`);this.notify("USER_SIGNOUT_COMPLETE")}catch(e){o.cM.error(e),this.signoutInProgress=!1,this.notify("USER_SIGNOUT_FAILED")}}sortForVirtualFolder(e){var t;return((null==(t=this.currentUser)?void 0:t.settings.virtualFolderSorts)||{})[e]}async setVirtualFolderSort(e,t){this.currentUser&&(this.currentUser.settings.virtualFolderSorts[e]=t,await this.saveSettings())}userPinnedItems(){var e;return this.userPinnedItemsForStr(null==(e=this.currentUser)?void 0:e.settings.pinnedItems)}pinnedItemsStrSet(){return new Set(this.userPinnedItems().map(e=>(0,I.z)(e)))}async updateUserPinnedItemsPin(e){let t=this.pinnedItemsStrSet();t.add((0,I.z)(e));let r=(0,I.v)(t);await this.updateSettings({pinnedItems:r})}async updateUserPinnedItemsUnpin(e){let t=this.pinnedItemsStrSet();t.delete((0,I.z)(e));let r=(0,I.v)(t);await this.updateSettings({pinnedItems:r})}getOpenWorksheetTabs(){var e;return void 0===this.openWorksheetTabs&&(null==(e=this.currentUser)?void 0:e.settings)&&(this.openWorksheetTabs=this.currentUser.settings.openWorksheetPids||[]),[...this.openWorksheetTabs||[]]}isWorksheetTabOpen(e){return this.getOpenWorksheetTabs().includes(e)}updateWorksheetTabs(e,t){if(!e.length){var r;n.v.addAction("WORKSHEET_TABS_CLEAR",{origin:t,previousOpenTabsCount:null==(r=this.openWorksheetTabs)?void 0:r.length})}this.openWorksheetTabs=e,this.updateSettings({openWorksheetPids:e}),this.notify("USER_TABS_UPDATED")}openWorksheetTab(e){if(!this.isWorksheetTabOpen(e)){let t=this.getOpenWorksheetTabs().concat([e]);this.updateWorksheetTabs(t,"open-worksheet-tab")}}closeWorksheetTab(e){if(this.isWorksheetTabOpen(e)){let t=this.getOpenWorksheetTabs().filter(t=>t!==e);this.updateWorksheetTabs(t,"close-worksheet-tab")}}userConnectionSettings(e){var t;return((null==(t=this.currentUser)?void 0:t.settings.connections)||{})[e]||{}}async updateUserConnectionSettings(e,t){if(this.currentUser){let r=this.currentUser.settings.connections||{},n={...r[e]||{}};for(let e in t)n[e]=t[e];let i={...r};i[e]=n,this.currentUser.settings.connections=i,await this.saveSettings()}}currentUserInfo(e){return this.urc.currentUserInfo(e)}__inaccuratelyTypedCurrentUserInfoDoNotUseInNewCode(e){return this.urc.__inaccuratelyTypedCurrentUserInfoDoNotUseInNewCode(e)}userRequestContext(e){return this.urc.requestContext(e)}completeLogin(e,t,r,n,i,s=!0){var a,o,l,c;this.urc.completeLogin({account:e.account,name:e.name,url:e.url,region:n,appServerUrl:r,username:t.username,snowflakeOrgName:(null==(a=e.settings)?void 0:a.snowflakeOrgName)||"",edition:(null==(o=e.settings)?void 0:o.edition)||"",accountAlias:(null==(l=e.settings)?void 0:l.accountAlias)||"",currentDeploymentLocation:null==(c=e.settings)?void 0:c.currentDeploymentLocation},s,i),this.notify("COMPLETED_LOGIN")}toUserKey(e,t){return this.urc.toUserKey(e,t)}sortedUniqueLoggedInAccountsArray(){return this.urc.sortedUniqueLoggedInAccountsArray()}loggedInAccountsList(){return this.urc.loggedInAccountsList()}setBeachCookie(){var e;this.urc.setDefaultBeachCookieForAccount(null==(e=this._stores.organization.activeOrg)?void 0:e.account)}showLoginOptInModal(){if(this.currentUser){var e,t;if((null!=(t=i.flags.UI_LANDING_PAGE_OVERRIDE())?t:"")!==s.gT.UI_LANDING_PAGE_SNOWFLAKE_APP&&(null==(e=this.initialUrlQueryParameters)?void 0:e.optInModal)==="true")return!0}return!1}switchPrimaryUser(e,t){return this.urc.switchPrimaryUser(e,t)}clearBeachCookie(){this.beachState.clearBeachCookie()}currentBeach(){return this.beachState.currentBeach()}switchBeachVersion(e,t){return this.urc.switchBeachVersion(e,t)}showBeachBanner(){return this.environ==R.q.staging&&!!this.currentBeach()}showAccountBeachVersion(){if(this.environ==R.q.staging){var e;return!!this.urc.beachCookieForAccount(null==(e=this._stores.organization.activeOrg)?void 0:e.account)}return!!this.currentBeach()}async switchUser(e,t){return await this._stores.analytics.commit(),O.O.clearSession(),this.urc.switchUser(e,t)}isCurrentUser(e){return this.urc.isCurrentUser(e)}isOrgAliasEnabled(){return this.isSnowflakeFeatureEnabled(s.gT.SNOWFLAKE_FEATURE_USE_ORG_AND_ALIAS_FOR_DX)&&this.loggedInAccountsList().every(e=>!!e.snowflakeOrgName)}async fetchBootstrapData(){if(!this.isGuestUser)try{var e,t;let r=await this.api.post({path:"/fetch-bootstrap-data",data:{IncludeClientParameters:!1}});this._stores.organization.setOrg(r.organization),(0,P.H)(null==(t=r.organization)||null==(e=t.settings)?void 0:e.paramConfigs),void 0!==r.clientParameters&&this.updateClientParameters(r.clientParameters,"/fetch-bootstrap-data")}catch(e){this.handleException(e)}}async fetchExtendedBootstrapData(){var e,t,r;let i;if(this.isGuestUser)return void this.loadParameters();try{if(null==(e=_.X.bootstrapFetches)?void 0:e.extendedBootstrapData){let e=await _.X.bootstrapFetches.extendedBootstrapData;e&&e.accountInfo&&e.clientParameters&&e.organization&&(i=e)}}catch(e){n.v.addError(e,{bootstrap:!0})}try{i||(i=await this.api.post({path:"/fetch-extended-bootstrap-data"})),this._stores.organization.setOrg(i.organization),(0,P.H)(null==(r=i.organization)||null==(t=r.settings)?void 0:t.paramConfigs),this.updateAccountInfo(i.accountInfo),void 0!==i.clientParameters&&this.updateClientParameters(i.clientParameters,"/fetch-extended-bootstrap-data")}catch(e){this.handleException(e)}}async loadParameters(){let e;try{var t,r;let n=(null==(t=_.X.bootstrapFetches)?void 0:t.extendedBootstrapData)||(null==(r=_.X.bootstrapFetches)?void 0:r.guestBootstrapData);if(n){let t=await n;(null==t?void 0:t.clientParameters)&&(e={clientParamsInfo:t.clientParameters})}}catch(e){n.v.addError(e,{bootstrap:!0})}try{let t=this.isGuestUser;if(!e){let{data:r}=await this.api.restPassthrough("POST","/request/console/bootstrap-data-request?desc=parameters",{role:"PUBLIC",isJsonBody:!0},{dataKinds:t?["CLIENT_PARAMS_INFO"]:["CLIENT_PARAMS_INFO","ACCOUNT"]});e=r}this.updateAccountInfo(null==e?void 0:e.accountInfo),this.updateClientParameters((null==e?void 0:e.clientParamsInfo)||[],"/request/console/bootstrap-data-request?desc=parameters")}catch(e){this.handleException(e)}}async waitForLoadClientParameters(){return this.loadClientParametersPromise}updateAccountInfo(e){if(e){var t,r;this.regionGroupType=null==(t=(null!=(r=e.availableRegions)?r:[])[e.currentDeploymentLocation])?void 0:t.regionGroupType,n.v.setUserProperty("account_type",e.type),n.v.setUserProperty("trial_status",e.trialStatus)}this.isOnDemandAccount=!!(null==e?void 0:e.onDemandAccount),this.isRestrictedAccount=!!(null==e?void 0:e.restrictedAccount),this.accountOrgDefaultedToSnowsight=!!(null==e?void 0:e.accountOrgDefaultedToSnowsight),this.organizationAccount=!!(null==e?void 0:e.organizationAccount),D(this,W,(null==e?void 0:e.type)==="READER")}updateClientParameters(e,t){let r={},n=void 0===this.parameters||e.length!=Object.keys(this.parameters).length;for(let t of e){r[t.name]=t.value;let e=this.parameters?this.parameters[t.name]:null;n||e===t.value||(n=!0)}let s=i.FlagClient.getInstance();s&&s.updateRemoteFlags(r,t),n&&(this.parameters=r,this.notify("PARAMETERS_LOADED"),this.deprecated_storeSelectParamsForCoreUi()),this.checkCrossRoleSharingFlag(r)}deprecated_storeSelectParamsForCoreUi(){let e=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_AF_FEATURE_42");window.localStorage.setItem("UI_ENABLE_AF_FEATURE_42",e.toString())}handleException(e){if(this.currentUser)throw e;this.notify("PARAMETERS_LOADED_GUEST_ERROR")}checkCrossRoleSharingFlag(e){if(this.currentUser)!!e[s.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_CROSS_ROLE_SHARING]!=!!this.currentUser.settings.snowflakeFeatures[s.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_CROSS_ROLE_SHARING]&&this.onParameterOutOfSync()}currentRole(){return this.urc.currentRole()}currentSecondaryRoles(){return this.urc.currentSecondaryRoles()}hasNewPrimaryLoginOccurred(){return this.urc.hasNewPrimaryLoginOccurred()}switchCurrentRole(e){this.urc.switchCurrentRole(e)&&this.notify("USER_ROLE_CHANGED"),this.reduxStore&&this.reduxStore.dispatch((0,y.Tp)(e))}switchCurrentSecondaryRoles(e){this.urc.switchCurrentSecondaryRoles(e),this.notify("USER_SECONDARY_ROLES_CHANGED"),this.reduxStore&&this.reduxStore.dispatch((0,y.Hz)(e))}get hasSuperAccountAdminRole(){var e;return(0,p.i)(null==(e=this.currentUser)?void 0:e.availableRoles)}get isCurrentRoleSuperAccountAdmin(){return(0,E.h)(this.currentRole())}get hasSuperOrgAdminRole(){var e;return(0,f.j)(null==(e=this.currentUser)?void 0:e.availableRoles)}get isCurrentRoleSuperOrgAdmin(){return(0,S.l)(this.currentRole())}get superAccountAdmin(){return(0,h.m)(this.organizationAccount)}get superOrgAdmin(){return(0,g.D)(this.organizationAccount)}get hasSuperSecurityAdminRole(){var e;return(0,m.w)(null==(e=this.currentUser)?void 0:e.availableRoles)}get isCurrentRoleSuperSecurityAdmin(){return(0,A.E)(this.currentRole())}getAccountsForRegion({regionGroup:e,snowflakeRegion:t}){return this.loggedInAccountsList().filter(r=>r.currentDeploymentLocation===`${e}.${t}`)}async downloadWorksheets(e,t=d.nufetch){await t(`/worksheets-download?${(0,l.nZ)({username:e})}`,this.api.requestContext())}get isReaderAccount(){return N(this,W)}get allParameters(){if(this.parameters)return structuredClone(this.parameters)}constructor(e,t,r,n){super(e,t,n),F(this,W,{writable:!0,value:void 0}),F(this,G,{writable:!0,value:void 0}),this.api=e,this.params=t,this.beachState=r,D(this,G,new Set),this.userPinnedItemsForStr=(0,c.default)(e=>{let t=[];try{e&&(t=JSON.parse(e))}catch(e){console.warn("Caught exception trying to parse pinnedItems -- ignoring: ",e)}return t}),this.currentUserId=t.user?String(t.user.id):null,this.urc=t.urc,this.environ=t.environ,this.regionGroupType=t.regionGroupType,this.signoutInProgress=!1,this.initialUrlQueryParameters=u.parse((0,b.J)().location.search),this.isOnDemandAccount=!1,this.isRestrictedAccount=!1,D(this,W,!1),this.accountOrgDefaultedToSnowsight=!1,this.organizationAccount=!1,this.loadClientParametersPromise=new Promise(e=>{this._events.addListener("change",t=>{"PARAMETERS_LOADED"===t&&e()})}),(0,a.U)(e=>{let t=this.getSnowflakeParameterRawValue(e);return"boolean"==typeof t?this.isSnowflakeFeatureEnabled(e):"string"==typeof t&&this.isUiSpecifiedSnowflakeFeatureEnabled(e)})}}z.STORE_ID="user",z=function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}([(0,w.ri)(),j(0,(0,w.f3)(x.P)),j(1,(0,w.f3)("PageState")),j(2,(0,w.f3)(U.gL)),j(3,(0,w.f3)("ReduxStore"))],z)}}]);
//# sourceMappingURL=49876-c1451f5f822796d1.js.map